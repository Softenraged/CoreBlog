!function(){"use strict";function o(o,t,n){var e=this;e.error="",e.post={},e.isReady=!1,e.isFull=!1,e.edit=void 0===o.id?!1:!0,e.newPost=function(){t.getPostForm().success(function(o){angular.copy(o,e.post),e.post.image={}}).error(function(){e.error="Oops. Something went wrong. Try again later!"})},e.getPost=function(){t.getPost(o.id).success(function(o){angular.copy(o,e.post)}).error(function(){e.error="Oops. Something went wrong. Try again later!"})},e.updatePost=function(){t.updatePost(e.post).success(function(){e.isReady=!0}).error(function(){e.error="Oops. Something went wrong. Try again later!"})["finally"](function(){n.location.href="/Post/Open/"+o.id})},e.addTag=function(){e.post.tags.length<5&&e.post.tags.push({name:""}),5===e.post.tags.length&&(e.isFull=!0)},e.removeTag=function(o){e.isFull=!1,e.post.tags.splice(o,1)},e.approve=function(){t.sendNewPost(e.post).success(function(){e.isReady=!0}).error(function(){e.error="Oops. Something went wrong. Try again later!"})}}angular.module("postCreateApp").controller("postCreateController",["$routeParams","postCreateFactory","$window",o])}();