!function(){"use strict";function e(e,t){var o=this;o.posts=[],o.error="",o.isBusy=!1,o.reverse=!0,o.predicate="title",o.getUnpublished=function(){o.isBusy=!0,t.getUnpublishedPosts().success(function(e){angular.copy(e,o.posts)}).error(function(e){o.error="Failed to get unpublished posts."})["finally"](function(){o.isBusy=!1})},o.getPublished=function(){o.isBusy=!0,t.getPublishedPosts().success(function(e){angular.copy(e,o.posts)}).error(function(e){o.error="Failed to get published posts."})["finally"](function(){o.isBusy=!1})},o.preview=function(){o.isBusy=!0,o.openPost={},t.getPost(e.id).success(function(e){angular.copy(e,o.openPost)}).error(function(){o.error="Failed to open post with id: "+e.id})["finally"](function(){o.isBusy=!1})},o.order=function(e){o.reverse=o.predicate===e?!o.reverse:!1,o.predicate=e},o.isDeleted=function(e){return!e.deleted},o["delete"]=function(e){o.isBusy=!0,t.deletePost(e).success(function(){e.deleted=!0}).error(function(t){o.error="Failed to delete: "+e.title})["finally"](function(){o.isBusy=!1})},o.approve=function(e){o.isBusy=!0,t.approvePost(e).success(function(){e.deleted=!0}).error(function(t){o.error="Failed to approve: "+e.title})["finally"](function(){o.isBusy=!1})}}angular.module("adminApp").controller("postController",["$routeParams","controlPanelFactory",e])}();