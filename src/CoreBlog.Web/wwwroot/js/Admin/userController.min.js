!function(){"use strict";function e(e,n){var r=this;r.users=[],r.error="",r.isBusy=!0,n.getUsers().success(function(e){angular.copy(e,r.users),r.isBusy=!1}).error(function(e){r.error="Failed to get users"}),r.isDeleted=function(e){return!e.deleted},r["delete"]=function(e){r.isBusy=!0,n.deleteUser(e).success(function(n){e.deleted=!0}).error(function(n){r.error="Failed to delete the user: "+e.userName})["finally"](function(){r.isBusy=!1})},r.unban=function(e){r.isBusy=!0,n.unbanUser(e).success(function(n){e.isBanned=n}).error(function(n){r.error="Failed to unban the user: "+e.userName})["finally"](function(){r.isBusy=!1})},r.ban=function(e){r.isBusy=!0,n.banUser(e).success(function(n){e.isBanned=n}).error(function(n){r.error="Failed to ban the user: "+e.userName})["finally"](function(){r.isBusy=!1})}}angular.module("adminApp").controller("userController",["$http","controlPanelFactory",e])}();